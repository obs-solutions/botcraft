<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <template id="report_delivery_slip_obs_sequence" inherit_id="stock.report_delivery_document" priority="99">
        <xpath expr="//table/thead" position="before">
            <t t-set="company" t-value="o.company_id"></t>
        </xpath>
        <xpath expr="//table[@name='stock_move_line_table']/thead" position="before">
            <t t-set="company" t-value="o.company_id"></t>
        </xpath>
        <xpath expr="//table/thead/tr/th[@name='th_sm_product']" position="before">
            <th t-if="company.print_position" name="th_pos" class="text-left">Pos.</th>
        </xpath>
        <xpath expr="//table/tbody/t" position="after">
            <t t-set="cnt" t-value="0"/>
        </xpath>
        <xpath expr="//table/tbody/tr/td" position="before">
            <td t-if="company.print_position" name="td_pos" style="vertical-align: text-top;">
                <t t-set="cnt" t-value="cnt + company.position_increment"/>
                <span t-esc="cnt"/>
            </td>
        </xpath>
        <xpath expr="//table[@name='stock_move_line_table']/thead/tr/th[@name='th_sml_product']" position="before">
            <th t-if="company.print_position" name="th_pos" class="text-left">Pos.</th>
        </xpath>

        <xpath expr="//div[hasclass('page')]/div[1]" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
        <xpath expr="//div[@name='div_outgoing_address']" position="inside">
            <div style="margin-left:350px; margin-top:-108px; width:250px; height:100px;">
                <div t-if="o.origin" name="div_origin">
                    <strong>Order:</strong>
                    <span t-field="o.origin" style="padding-left:70px;"/>
                </div>
                <div t-if="o.state" name="div_sched_date">
                    <strong>Shipping Date:</strong>
                    <t t-if="o.state == 'done'">
                        <span t-field="o.date_done" style="padding-left:28px;"/>
                    </t>
                    <t t-if="o.state != 'done'">
                        <span t-field="o.scheduled_date" style="padding-left:28px;"/>
                    </t>
                </div>
            </div>
        </xpath>
        <xpath expr="//table[1]" position="attributes">
            <attribute name="class">table table-sm main_table</attribute>
        </xpath>
    </template>

    <template id="report_delivery_slip_sn_obs_sequence" inherit_id="stock.stock_report_delivery_has_serial_move_line"
              priority="99">
        <xpath expr="//t/td" position="before">
            <t t-set="cnt" t-value="0"/>
            <t t-set="company" t-value="o.company_id"></t>
            <td t-if="company.print_position" name="td_pos" style="vertical-align: text-top;">
                <t t-set="cnt" t-value="cnt + company.position_increment"/>
                <span t-esc="cnt"/>
            </td>
        </xpath>
    </template>

    <template id="report_delivery_slip_has_packages_sn_obs_sequence"
              inherit_id="stock.stock_report_delivery_aggregated_move_lines" priority="99">
        <xpath expr="//t/tr" position="before">
            <t t-set="cnt" t-value="0"/>
            <t t-set="company" t-value="o.company_id"></t>
        </xpath>
        <xpath expr="//t/tr/td" position="before">
            <td t-if="company.print_position" name="td_pos" style="vertical-align: text-top;">
                <t t-set="cnt" t-value="cnt + company.position_increment"/>
                <span t-esc="cnt"/>
            </td>
        </xpath>
        
    </template>
</odoo>
